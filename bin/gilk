#!/usr/bin/env node

var gilk = require('../index'),
    vinylFs = require('vinyl-fs');

var args = require('minimist')(process.argv.slice(2)),
    files = args._,
    base = args.base || '.'
    title = args.title || 'Home',
    js = args.js,
    css = args.css,
    index = args.index, // Marksdown rendered to index.html
    dest = args.dest || '.';

console.log('gilk: started ...');

vinylFs.src(files, {base: base})
    .pipe(gilk({
            title: title,
            js: js,
            css: css,
            index: index
        }))
    .on('end', function () {
        console.log('gilk: completed');
    })
    .pipe(vinylFs.dest(dest));
